
JPA Entity
@Entity
@Table(name="test_book)
class Book(var name:String,var address:String,var age:Int){
    @Id
    @GeneratedValue(strategy = GenerationType.TABLE, generator = "seq_t_student")
    @TableGenerator(name = "seq_t_student", table = "seq_t_student", allocationSize = 1)
    var id: Long = _
}

object Book extends CQModel[Book] //继承CQModel

Must init first

JPA.initPersistenceName("persistence.name")
初始化JPA的配置PersistenceName名称，在多线程多数据库的需求中可以在调用Sporm前，绑定当前线程使用的PersistenceName。

get insert update delete


val book=Book.get(1L)   //get by id
book.insert()           //insert
book.name="change"
book.update()           //update
book.delete()           //delete


fecth count
val limit = 20
val offset = 5
Book.fetch(limit,offset)(qf =>{
   val cab=qf.cab
   val root=qf.root
   qf.!=:("name","test").asc("name)
}).get

Book.count((cab,root)=>{
    val p1=cab.notEqual(root.get("name"),"test")
    List(p1)
}).get

join
Book.count((cab,root)=>{
    val p1=cab.notEqual(root.join("Archtor").get("desc"),"test")
    List(p1)
}).get

